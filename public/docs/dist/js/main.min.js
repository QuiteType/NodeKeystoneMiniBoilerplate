/*! mckl v0.0.0 | (c) 2016 Quinn Keaveney | MIT License | https://github.com/quitequinn/MCKL */
function isMobile(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/iPhone|iPad|iPod/i)||navigator.userAgent.match(/IEMobile/i)?!0:!1}function iphone(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)?!0:!1}function forwidth(){var t="#body{ margin-top:"+$(".navbar").height()+"px;}",e=".winH{ min-height:"+$(window).height()+"px;}",i=".winHalf{ top:"+$(window).height()/2+"px;}",a=".winH90{ height:"+.9*$(window).height()+"px;}",n="<style>"+t+e+i+a+"</style>";$(".jsdump").html(n)}function twitterInit(){tries++,tries>=2?$.getJSON(root+"/tmp/default.json",function(t){console.log("Using default Twitter data"),tData=t}).fail(function(){return console.log("Error with default Twitter data"),!1}):$.getJSON(root+"/tmp/"+day+"-"+monthIndex+"-"+year+"-"+ampm+"-twitter.json",function(t){console.log("Found Twitter data"),tData=t}).fail(function(){return console.log("Contacting Twitter"),setTimeout(function(){twitterInit()},500),!1})}function twitterFix(t){return twiText=t.text.replace(/(?:https?|ftp):\/\/\S+/g,"").trim(),twiText=twiText.replace(/([\.!?])([a-z])/g,"$1 $2"),twiText=twiText.replace(/[\.“!?]\s+[a-z]/g,function(t){return t.toUpperCase()}),twiText=twiText.replace('".','."'),twiText=twiText.replace("'.",".'"),twiText=twiText.replace(" ?","?"),twiText=twiText.replace(" .","."),twiText=twiText.replace(" !","."),twiText=twiText.replace(" :",":"),twiText=twiText.replace(":'",".'"),twiText=twiText.replace(':"','."'),twiText=twiText.replace(".).",".)"),twiText=twiText.replace("...","…"),twiText=twiText.replace("\n"," "),twiText=twiText.replace("&lt;3",""),twiText=twiText.replace("--","—"),lstLet=twiText.substring(twiText.length-1),"."!==lstLet&&"?"!==lstLet&&"”"!==lstLet&&"’"!==lstLet&&" "!==lstLet&&"!"!==lstLet&&"…"!==lstLet&&";"!==lstLet&&"/"!==lstLet&&":"!==lstLet&&"+"!==lstLet&&"="!==lstLet&&"_"!==lstLet&&"-"!==lstLet&&"|"!==lstLet&&"'"!==lstLet&&'"'!==lstLet&&"~"!==lstLet&&(twiText+="."),":"===lstLet&&(twiText=twiText.substring(0,twiText.length-1)+"."),twiText}function wFix(t){$(t).widowFix({prevLimit:5,linkFix:!0})}function trimTwit(t){$(t).find("h2.tweet, h2.tweet > div").css("height","auto")}function countWords(t){return t=t.replace(/(^\s*)|(\s*$)/gi,""),t=t.replace(/[ ]{2,}/gi," "),t=t.replace(/\n /,"\n"),t.split(" ").length}function h2Twit(t,e){var i=t[Math.floor(Math.random()*t.length)],a=twitterFix(i),n=i.text.match(/((?:https?|ftp):\/\/\S+)/);$(e).find("h2").text(a),$(e).find(".tweet_location").attr("href","https://twitter.com/"+i.user.screen_name+"/status/"+i.id_str),$(e).find(".tweet_location").text("@"+i.user.screen_name),$(e).find(".article_location").attr("href",n[0]),$(e).find(".article_location").text(n[0].replace(/.*?:\/\//g,"")),tLength=a.length,1===countWords(a)?$(e).find("h2").addClass("oneWord").bigtext():(tLength<60?$(e).find("h2").css("height","400px").addClass("under60"):tLength>=60&&tLength<80?$(e).find("h2").css("height","350px").addClass("under80"):tLength>=80&&tLength<100?$(e).find("h2").css("height","300px").addClass("under100"):tLength>=100&&tLength<120?$(e).find("h2").css("height","200px").addClass("under120"):tLength>=120&&$(e).find("h2").css("height","100px").addClass("under140"),$(e).find("h2").textTailor({minFont:15,maxFont:1e3,fit:!0,lineHeight:1.1,resizable:!1})),smartquotes(),trimTwit(e),setTimeout(function(){smartquotes(),wFix($(e).find("h2"))},200),setTimeout(function(){smartquotes()},450),$(e).removeClass("fresh")}function twitterize(t){""!==tData?h2Twit(tData,t):setTimeout(function(){twitterize(t)},10)}function getObjects(t,e,i){var a=[];for(var n in t)t.hasOwnProperty(n)&&("object"==typeof t[n]?a=a.concat(getObjects(t[n],e,i)):n===e&&t[e]===i&&a.push(t));return a}function hashScroll(){""!==window.location.hash&&$("html, body").animate({scrollTop:$(window.location.hash).offset().top-navPadding},scrollSpeed)}var root=location.protocol+"//"+location.host,tData="",isTouchDevice="ontouchstart"in document.documentElement,browser,webkit,touch,prefix=function(){var t=window.getComputedStyle(document.documentElement,""),e=(Array.prototype.slice.call(t).join("").match(/-(moz|webkit|ms)-/)||""===t.OLink&&["","o"])[1],i="WebKit|Moz|MS|O".match(new RegExp("("+e+")","i"))[1];return{dom:i,lowercase:e,css:"-"+e+"-",js:e[0].toUpperCase()+e.substr(1)}}();browser=prefix.lowercase,touch=isTouchDevice?!0:!1,-1!==navigator.userAgent.indexOf("Safari")&&(webkit=-1===navigator.userAgent.indexOf("Chrome")?"safari":"chrome"),$("html").addClass(browser),"webkit"===browser&&$("html").addClass(webkit),$("html").addClass("touch"+touch),forwidth();var date=new Date,day=date.getDate(),monthIndex=date.getMonth(),year=date.getFullYear(),hours=date.getHours(),ampm=hours>=12?"pm":"am",tries=0;twitterInit();var twiText,lstLet,navPadding=$(".navbar").height(),scrollSpeed=300;$("a[href*=#]:not([href=#])").click(function(){if(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname){var t=$(this.hash);if(t=t.length?t:$("[name="+this.hash.slice(1)+"]"),t.length)return $("html, body").animate({scrollTop:t.offset().top-navPadding},scrollSpeed),!1}}),$(document).ready(function(){function t(t){var e={number:t};$.get("/getFont",e,function(t){$.each(t,function(t,e){var i=$("<style>@font-face {font-family: "+e.typefaceName+";src: url(data:application/font-woff;charset=utf-8;base64,"+e.base64Woff+") format('woff');font-weight: "+e.weight.toLowerCase()+";font-style: "+e.style.toLowerCase()+";}</style><a href='/"+e.typefaceName.toLowerCase()+"' class='error404' fontFamily='"+e.typefaceName+"' fontStyle='"+e.style+"' fontWeight='"+e.weightName+"'><h2>ERROR</h2><h1 class='"+e.typefaceName.toLowerCase()+" "+e.weightName.toLowerCase()+" w"+e.weight+" "+e.style.toLowerCase()+"' style='font-family:"+e.typefaceName+";'>- 404 -</h1><h2>ERROR</h2></div>");$(".block404").append(i)})})}function e(){if(!store.enabled)return void console.log('Local storage is not supported by your browser. Please disable "Private Mode", or upgrade to a modern browser.');store.get("cart")}function i(t){this.cartName=t,this.clearCart=!1,this.checkoutParameters={},this.items=[],this.loadItems();var e=this;$(window).unload(function(){e.clearCart&&e.clearItems(),e.saveItems(),e.clearCart=!1})}function a(t,e,i){this.serviceName=t,this.merchantID=e,this.options=i}function n(t,e,i,a){this.sku=t,this.name=e,this.price=1*i,this.quantity=1*a}function s(){$(".sidebar .list-group:first-of-type .list-group-item:first-of-type").addClass("active")}function o(t){var e=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;return e.test(t)}function r(t){var e={number:t};$.get("/getFont",e,function(t){$.each(t,function(t,e){var i=$("<style>@font-face {font-family: "+e.typefaceName+";src: url(data:application/font-woff;charset=utf-8;base64,"+e.base64Woff+") format('woff');font-weight: "+e.weight.toLowerCase()+";font-style: "+e.style.toLowerCase()+";}</style><div class='col-sm-12 tweetWrap fresh' fontFamily='"+e.typefaceName+"' fontStyle='"+e.style+"' fontWeight='"+e.weightName+"'><a href='/"+e.typefaceName.toLowerCase()+"' class='h2wrap'><div class='h2wrap'><h2 class='tweet "+e.typefaceName.toLowerCase()+" "+e.weightName.toLowerCase()+" w"+e.weight+" "+e.style.toLowerCase()+"' style='font-family:"+e.typefaceName+";'></h2></div></a><h6><span class='font_title'>"+e.font+"</span><a href='#' class='tweet_location'></a><a href='#' class='article_location'></a></h6></div>");$(".tweet_spec").append(i),twitterize(i)})})}function l(t){b=$(".container.main .page-header").offset().left,T=$(".sidebar").width(),k=$(t).offset().top,$(t).parent().find("h6").css("left",b),$(t).parent().find("h6").css("width",T),$(t).parent().find("h6").css("top",k)}function c(t){b=$(".container.main .page-header").offset().left,T=$(".sidebar").width(),k=$(t).offset().top+$(t).height(),$(t).parent().find("h6").css("left",b),$(t).parent().find("h6").css("width",T),$(t).parent().find("h6").css("top",k),C=$(t).parent().find("h6").height(),$(t).parent().find("h6").css("margin-top","-"+C+"px")}function h(){$(".swiper-container:not(.swiped)").each(function(t,e){N+=1,$(this).addClass("swiped").addClass("s"+N),$("html").hasClass("touchfalse")?$(".s"+N).swiper({effect:"fade",pagination:".s"+N+" .swiper-pagination",slidesPerView:1,paginationClickable:!0,paginationBulletRender:function(t,e){return"<span class='"+e+"'>"+(N+1)+"</span>"},lazyLoadingInPrevNext:!0,spaceBetween:0,nextButton:".s"+N+" .swiper-button-next, .s"+N+" .swiper-next, .s"+N+" .swiper-slide, .s"+N+" .swiper-slide img",prevButton:".s"+N+" .swiper-button-prev, .s"+N+" .swiper-prev",onSlideChangeStart:function(){$(".s"+N+" .swiper-wrapper").css("max-height",$(".s"+N+" .swiper-slide-active img").height())}}):$(".s"+N).swiper({effect:"fade",pagination:".s"+N+" .swiper-pagination",slidesPerView:1,grabCursor:!0,paginationClickable:!0,paginationBulletRender:function(t,e){return"<span class='"+e+"'>"+(N+1)+"</span>"},lazyLoadingInPrevNext:!0,spaceBetween:0,mousewheelControl:!0,nextButton:".s"+N+" .swiper-button-next, .s"+N+" .swiper-next",prevButton:".s"+N+" .swiper-button-prev, .s"+N+" .swiper-prev",onSlideChangeStart:function(){$(".s"+N+" .swiper-wrapper").css("max-height",$(".s"+N+" .swiper-slide-active img").height())}}),$(window).load(function(){$(".s"+N+" .swiper-wrapper").css("max-height",$(".s"+N+" .swiper-slide-active img").height())})})}function f(){$(".news").append(P),L+=1;var t={currentNewsPage:L};$.get("/addNextPage",t,function(t){$(".news-loader").remove(),$(".news").append(t),h()})}function d(){$(window).unbind("scroll",z),$(".news").append(P),L+=1;var t={currentPost:locals.tmp.currentPost};$.get("/addPreviousPost",t,function(t){$(".news-loader").remove(),$("#body").append(t.html),locals.tmp.currentPost=t.publishedDate,$(window).bind("scroll",z)})}function p(){$(document).height()<=$(window).height()&&d()}function u(t){var e=$(t).find("h2").attr("class"),i=$(t).find("h2").css("font-family"),a=$(t).find("h2").css("font-style"),n=$(t).find("h2").css("font-weight");$(t).find("h2").replaceWith("<h2 contenteditable='true' spellcheck='false' style='font-family:"+i+"; font-style:"+a+";font-weight:"+n+";' class='"+e+"'>New heading</h2>"),$(t).find("h2").css("height",""),$(t).find(".tweetEditor").remove()}function m(t){var e=pangrams[Math.floor(Math.random()*pangrams.length)];$(t).text(e),$(t).attr("placeholder",e)}function w(t){if("undefined"==typeof $(t).find("h2.tweet > div").css("font-size"))return setTimeout(function(){w(t)},500),!1;$(t).append("<div class='icon icon-close'></div><div class='tweetEditor row'><div class='col-xs-4 col-md-3 btn-group styleButton btn-group-options co'><button type='button' data-toggle='dropdown' aria-expanded='false' class='btn btn-default dropdown-toggle'><span class='disc'>Book</span><span class='caret'></span></button><ul role='menu' class='dropdown-menu'>"+O+"</ul></div><div class='col-xs-4 col-md-3 sizeTweetSlider'><div class='slider'><span class='amount'>64px</span></div></div><div class='col-xs-4 col-md-3 trackingTweetSlider'><div class='slider'><span class='amount'>0em</span></div></div></div>"),$(t).find(".fa-close").click(function(){$(t).remove()});var e=Math.round($(t).find("h2.tweet > div").css("font-size").slice(0,-2));$(t).find(".sizeTweetSlider .slider").slider({orientation:"horizontal",range:"min",min:10,max:200,value:e,animate:!0,slide:function(t,e){$(this).parent().find(".amount").text(e.value+"px"),$(this).parent().parent().parent().find("h2.tweet > div").css("font-size",e.value+"px"),$(this).find("h2").css("font-size",e.value+"px")},create:function(t,i){$(this).parent().find(".amount").text(e+"px"),$(this).find("h2").css("font-size",e+"px")}}),$(t).find(".trackingTweetSlider .slider").slider({orientation:"horizontal",range:"min",min:-.1,max:.2,value:0,step:.01,animate:!0,slide:function(t,e){$(this).parent().find(".amount").text(e.value+"em"),$(this).parent().parent().parent().find("h2.tweet").css("letter-spacing",e.value+"em")},create:function(t,e){$(this).parent().parent().parent().find("h2.tweet").css("letter-spacing",e.value+"em")}});var i=$(t).find(".font_title").text();i=i.substr(i.indexOf(" ")+1);var a=$(t).find(".btn-group-options");$(a).find("li > a").filter(function(t){return $(this).text()===i}).parent().addClass("active"),$(a).find(".btn .disc").text(i),$(a).find("li > a").click(function(){var e=$(this).text(),i=getObjects(data.typeface.font,"weightName",e.split(" ")[0]);i=e.split(" ")[1]?getObjects(i,"style","Italic"):getObjects(i,"style","Normal"),$(a).find(".btn .disc").text(e),$(t).find("h2.tweet").css("font-weight",i[0].weight).css("font-style",i[0].style).css("font-family",i[0].typefaceName),$(t).attr("fontWeight",i[0].weightName).attr("fontStyle",i[0].style).attr("fontFamily",i[0].typefaceName);var n=$(t).attr("fontFamily")+" "+$(t).attr("fontWeight");"Italic"===$(t).attr("fontStyle")&&(n+=" Italic"),$(t).find(".font_title").text(n),$(a).find(".active").removeClass("active"),$(a).find("li > a").filter(function(t){return $(this).text()===e}).parent().addClass("active")}),$(t).click(function(){$(t).addClass("active")}),$(document).on("click",function(e){$(t).is(":hover")===!1&&$(t).removeClass("active")}),$(t).find("h2").keydown(function(){$(t).find(".tweet_location").preventDefault(),$(t).find(".tweet_location").text(""),$(t).find(".article_location").preventDefault(),$(t).find(".article_location").text("")})}function g(){$("#features .overflowText").css("font-size",$("#features h3").height())}function v(t){$(t).parent().find(".active").removeClass("active"),$(t).addClass("active"),$(t).parent().parent().parent().parent().find(".nav-tabs .active").removeClass("active"),$(t).parent().parent().parent().parent().find(".nav-tabs a[href='"+t+"']").parent().addClass("active"),$("html, body").animate({scrollTop:$(t).offset().top-100},300,function(){})}if($(".tabs").tab(),$(function(){var t=window.location.hash;$("ul.nav a[href='"+t+"']").tab("show"),$(".nav-tabs a").click(function(t){$(this).tab("show");var e=$("body").scrollTop();window.location.hash=this.hash,$("html, body").scrollTop(e)})}),$("[page='404']").length>0&&t(1),e(),"cart"===$("html").attr("page"),i.prototype.loadItems=function(){var t=null!=localStorage?localStorage[this.cartName+"_items"]:null;if(null!=t&&null!=JSON)try{for(var t=JSON.parse(t),e=0;e<t.length;e++){var i=t[e];null!=i.sku&&null!=i.name&&null!=i.price&&null!=i.quantity&&(i=new n(i.sku,i.name,i.price,i.quantity),this.items.push(i))}}catch(a){}},i.prototype.saveItems=function(){null!=localStorage&&null!=JSON&&(localStorage[this.cartName+"_items"]=JSON.stringify(this.items))},i.prototype.addItem=function(t,e,i,a){if(a=this.toNumber(a),0!=a){for(var s=!1,o=0;o<this.items.length&&!s;o++){var r=this.items[o];r.sku==t&&(s=!0,r.quantity=this.toNumber(r.quantity+a),r.quantity<=0&&this.items.splice(o,1))}if(!s){var r=new n(t,e,i,a);this.items.push(r)}this.saveItems()}},i.prototype.getTotalPrice=function(t){for(var e=0,i=0;i<this.items.length;i++){var a=this.items[i];(null==t||a.sku==t)&&(e+=this.toNumber(a.quantity*a.price))}return e},i.prototype.getTotalCount=function(t){for(var e=0,i=0;i<this.items.length;i++){var a=this.items[i];(null==t||a.sku==t)&&(e+=this.toNumber(a.quantity))}return e},i.prototype.clearItems=function(){this.items=[],this.saveItems()},i.prototype.addCheckoutParameters=function(t,e,i){if("PayPal"!=t&&"Google"!=t&&"Stripe"!=t)throw"serviceName must be 'PayPal' or 'Google' or 'Stripe'.";if(null==e)throw"A merchantID is required in order to checkout.";this.checkoutParameters[t]=new a(t,e,i)},i.prototype.checkout=function(t,e){if(null==t){var i=this.checkoutParameters[Object.keys(this.checkoutParameters)[0]];t=i.serviceName}if(null==t)throw"Use the 'addCheckoutParameters' method to define at least one checkout service.";var a=this.checkoutParameters[t];if(null==a)throw"Cannot get checkout parameters for '"+t+"'.";switch(a.serviceName){case"PayPal":this.checkoutPayPal(a,e);break;case"Google":this.checkoutGoogle(a,e);break;case"Stripe":this.checkoutStripe(a,e);break;default:throw"Unknown checkout service: "+a.serviceName}},i.prototype.checkoutPayPal=function(t,e){for(var i={cmd:"_cart",business:t.merchantID,upload:"1",rm:"2",charset:"utf-8"},a=0;a<this.items.length;a++){var n=this.items[a],s=a+1;i["item_number_"+s]=n.sku,i["item_name_"+s]=n.name,i["quantity_"+s]=n.quantity,i["amount_"+s]=n.price.toFixed(2)}var o=$("<form/></form>");o.attr("action","https://www.paypal.com/cgi-bin/webscr"),o.attr("method","POST"),o.attr("style","display:none;"),this.addFormFields(o,i),this.addFormFields(o,t.options),$("body").append(o),this.clearCart=null==e||e,o.submit(),o.remove()},i.prototype.checkoutGoogle=function(t,e){for(var i={},a=0;a<this.items.length;a++){var n=this.items[a],s=a+1;i["item_name_"+s]=n.sku,i["item_description_"+s]=n.name,i["item_price_"+s]=n.price.toFixed(2),i["item_quantity_"+s]=n.quantity,i["item_merchant_id_"+s]=t.merchantID}var o=$("<form/></form>");o.attr("action","https://sandbox.google.com/checkout/api/checkout/v2/checkoutForm/Merchant/"+t.merchantID),o.attr("method","POST"),o.attr("style","display:none;"),this.addFormFields(o,i),this.addFormFields(o,t.options),$("body").append(o),this.clearCart=null==e||e,o.submit(),o.remove()},i.prototype.checkoutStripe=function(t,e){for(var i={},a=0;a<this.items.length;a++){var n=this.items[a],s=a+1;i["item_name_"+s]=n.sku,i["item_description_"+s]=n.name,i["item_price_"+s]=n.price.toFixed(2),i["item_quantity_"+s]=n.quantity}var o=$(".form-stripe");o.empty(),o.attr("action",t.options.chargeurl),o.attr("method","POST"),o.attr("style","display:none;"),this.addFormFields(o,i),this.addFormFields(o,t.options),$("body").append(o),o.ajaxForm({success:function(){$.unblockUI(),alert("Thanks for your order!")},error:function(t){$.unblockUI(),alert("Error submitting order: "+t.statusText)}});var r=function(t){var i=$("<input type=hidden name=stripeToken />").val(t.id);$.blockUI({message:"Processing order..."}),o.append(i).submit(),this.clearCart=null==e||e,o.submit()};StripeCheckout.open({key:t.merchantID,address:!1,amount:100*this.getTotalPrice(),currency:"usd",name:"Purchase",description:"Description",panelLabel:"Checkout",token:r})},i.prototype.addFormFields=function(t,e){null!=e&&$.each(e,function(e,i){if(null!=i){var a=$("<input></input>").attr("type","hidden").attr("name",e).val(i);t.append(a)}})},i.prototype.toNumber=function(t){return t=1*t,isNaN(t)?0:t},"faq"===$("html").attr("page")||"about"===$("html").attr("page")||"license"===$("html").attr("page")){$(".readmore, .readless").click(function(t){t.preventDefault(),$(this).closest(".truncate-group").toggleClass("truncated")}),$(".sidebar .list-title").on("click",function(t){$(this).parent().toggleClass("open")}),$(".sidebar .list-group-item[href^='#']").on("click",function(t){t.preventDefault(),window.location.hash=this.hash,$(".sidebar .active").removeClass("active"),$(this).addClass("active")}),$(".sticky").Stickyfill(),""===window.location.hash&&s();var y=$(".navbar").height();$("body").scrollspy({target:"#scrollSpyTarget",offset:y+1})}String.prototype.isUpperCase=function(){return this.valueOf().toUpperCase()===this.valueOf()},$(window).load(function(){$("p > strong").each(function(){$(this).text().isUpperCase()&&$(this).addClass("allUpper")}),$("#newsletter input[type='text']").keyup(function(){""===$(this).val()?$(this).closest("form").find(".validating").addClass("disabled"):o($(this).val())?$(this).closest("form").find(".validating").removeClass("disabled"):$(this).closest("form").find(".validating").addClass("disabled")})}),$("[page='home']").length>0&&r(5);var x;$(".addSpec").click(function(){x=data.typeface.font[Math.floor(Math.random()*data.typeface.font.length)],$(".tweet_spec").append("<div class='col-sm-12 tweetWrap fresh' fontFamily='"+x.typefaceName+"' fontStyle='"+x.style+"' fontWeight='"+x.weightName+"'><div class='h2wrap'><h2 contenteditable='true' spellcheck='false' class='tweet "+x.typefaceName.toLowerCase()+" "+x.weightName.toLowerCase()+" w"+x.weight+" "+x.style.toLowerCase()+"' style='font-family:"+x.typefaceName+";'></h2></div><h6><span class='font_title'>"+x.font+"</span><a href='#' class='tweet_location'></a><a href='#' class='article_location'></a></h6></div>");var t=$(".fresh");twitterize(t),w(t)});var b,T,k,C;if("news"===$("html").attr("page")){$(".sticky").Stickyfill(),$(".post-content p:not(:first-of-type) img").each(function(){$(this).after("<h6 class='imgAttr text-muted topPos'>"+$(this).attr("alt")+"</h6>"),l(this)}),$(".post-content p:first-of-type img").each(function(){$(this).after("<h6 class='imgAttr text-muted bottomPos'>"+$(this).attr("alt")+"</h6>"),c(this)});var N=1;h();var L=1,S=locals.data.posts.totalPages,P="<div class='news-loader'><img src='/src/static/img/load.gif'/></div>",F=_.throttle(function(t){$(window).scrollTop()+$(window).height()>$(document).height()-300&&S>L&&f()},500);window.addEventListener("scroll",F,!1)}if("post"===$("html").attr("page")){locals.tmp.currentPost=locals.data.post.publishedDate;var P="<div class='news-loader'><img src='/src/static/img/load.gif'/></div>";p(),setTimeout(function(){p()},1e3),setTimeout(function(){p()},2e3);var z=_.throttle(function(t){$(window).scrollTop()+$(window).height()>$(document).height()-300&&d()},500);$(window).bind("scroll",z)}if("typeface"===$("html").attr("page")){var I=getObjects(data.typeface.font,"weight","400");I=getObjects(I,"style","Normal"),$("#styles .enterText, #stylesh2").keypress(function(t){return 13!==t.which}),$("#styles .enterText").keyup(function(){$("#stylesh2").text($(this).text())}),$("#stylesh2").keyup(function(){var t=$(this);$("#stylesh2").each(function(){$(this).is(t)||$(this).text(t.text())})}),$(".refreshSpec").click(function(){$(".tweetWrap").each(function(){u(this),twitterize(this),w(this)})}),$(".sizeTextSlider .slider").slider({orientation:"horizontal",range:"min",min:10,max:200,value:48,animate:!0,slide:function(t,e){$(this).parent().find(".amount").text(e.value+"px"),$("#styles h3, #styles .overflowText").css("font-size",e.value+"px"),$("#stylesh2").css("height",1.25*e.value+"px"),$("#styles h6").css("margin-bottom",.5*e.value+"px")},create:function(t,e){$("#styles h3, #styles .overflowText").css("font-size","48px"),$("#stylesh2").css("height","60px"),$("#styles h6").css("margin-bottom","24px")}}),$(".trackingTextSlider .slider").slider({orientation:"horizontal",range:"min",min:-.1,max:.2,value:0,step:.01,animate:!0,slide:function(t,e){$(this).parent().find(".amount").text(e.value+"em"),$("#stylesh2").css("letter-spacing",e.value+"em")},create:function(t,e){$("#stylesh2").css("letter-spacing",e.value+"em")}});var O="";for(var q in data.typeface.font)if(q){var D=data.typeface.font[q].weightName;"Italic"===data.typeface.font[q].style&&(D+=" Italic"),O+="<li><a href='javascript:;'>"+D+"</a></li>"}setTimeout(function(){$("[page='fonts'] .tweetWrap").each(function(){w(this)})},500),$(".addSpec").click(function(){x=data.typeface.font[Math.floor(Math.random()*data.typeface.font.length)],$(".tweet_spec").append("<div class='col-sm-12 tweetWrap fresh' fontFamily='"+x.typefaceName+"' fontStyle='"+x.style+"' fontWeight='"+x.weightName+"'><div class='h2wrap'><h2 contenteditable='true' spellcheck='false' class='tweet "+x.typefaceName.toLowerCase()+" "+x.weightName.toLowerCase()+" w"+x.weight+" "+x.style.toLowerCase()+"' style='font-family:"+x.typefaceName+";'></h2></div><h6><span class='font_title'>"+x.font+"</span><a href='#' class='tweet_location'></a><a href='#' class='article_location'></a></h6></div>");var t=$(".fresh");twitterize(t),w(t)}),$(".pangram").each(function(){m(this)}),$("#styles .enterText, #stylesh2").keyup(function(){""===$(this).text()&&$(".pangram").each(function(){$(this).text($(this).attr("placeholder"))})})}$("[href='#features']").click(function(){g(),setTimeout(function(){g()},100)}),g(),setTimeout(function(){g()},100),$("#features .featureStyleh2").keyup(function(){$(this).parents().eq(3).find(".defaultStyleh2").text($(this).text())}),$("#features .defaultStyleh2").keyup(function(){$(this).parents().eq(3).find(".featureStyleh2").text($(this).text())}),$(".buyThisFont, .main .navbar-nav:not(.nav-tabs) a[href^='#']").on("click",function(t){t.preventDefault();var e=this.hash;v(e)}),$(".tweetWrap.fresh").each(function(){twitterize(this)}),$(window).load(function(){function t(t){var e=$(t),i=$(".btn-group-typeoptions");$(i).find(".btn .disc").text(I[0].weightName),$(e).closest(".main").find(".style-target").css("font-weight",I[0].weight).css("font-style",I[0].style).css("font-family",I[0].typefaceName),$(i).find("li > a").filter(function(t){return $(this).text()===I[0].weightName}).parent().addClass("active"),$(i).find("li > a").click(function(){var t=$(this).text(),a=getObjects(data.typeface.font,"weightName",t.split(" ")[0]);a=t.split(" ")[1]?getObjects(a,"style","Italic"):getObjects(a,"style","Normal"),$(i).find(".btn .disc").text(t),$(e).closest(".main").find(".style-target").css("font-weight",a[0].weight).css("font-style",a[0].style).css("font-family",a[0].typefaceName),$(i).find(".active").removeClass("active"),$(i).find("li > a").filter(function(e){return $(this).text()===t}).parent().addClass("active")})}$(".btn-group-typeoptions").each(function(){t(this)})});var j=_.debounce(function(t){g(),$(".post-content p:not(:first-of-type) img").each(function(){l(this)}),$(".post-content p:first-of-type img").each(function(){c(this)})},500);if(window.addEventListener("resize",j,!1),$("[page='home']").length>0){var W=_.throttle(function(t){$(window).scrollTop()+$(window).height()>$(document).height()-300&&r(5)},500);window.addEventListener("scroll",W,!1)}$(window).load(function(){smartquotes(),setTimeout(function(){smartquotes()},500),hashScroll()})});